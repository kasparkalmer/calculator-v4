(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n=function(){function n(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e(this,"_operand1",void 0),e(this,"_operator",void 0),e(this,"operand2",void 0),this.operand1=t,this.operator=r}var r,a;return r=n,(a=[{key:"operand1",get:function(){return this._operand1 instanceof n?this._operand1.getResult():this._operand1},set:function(t){this._operand1=t}},{key:"operator",get:function(){return this._operator},set:function(t){["+","-","*","/"].includes(t)?this._operator=t:alert("INTERNAL ERROR! Please refresh the page.")}},{key:"getResult",value:function(){if(!this.operand2)return this.operand1;switch(this.operator){case"+":return this.operand1+this.operand2;case"-":return this.operand1-this.operand2;case"*":return this.operand1*this.operand2;case"/":return this.operand1/this.operand2;default:return 0}}}])&&t(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"lastCalculation",void 0),a(this,"currentInput",""),a(this,"waitingForInput",!0)}var e,i;return e=t,(i=[{key:"operator",value:function(t){return"-"===t&&this.waitingForInput?this.input(t):isNaN(Number(this.currentInput))?"":this.newCalculation(t)}},{key:"newCalculation",value:function(t){return isNaN(Number(this.currentInput))?this.currentInput:(this.lastCalculation&&this.lastCalculation.operand2?(this.lastCalculation=new n(this.lastCalculation,t),this.lastCalculation.operand2=Number(this.currentInput)):this.lastCalculation?(this.lastCalculation.operand2=Number(this.currentInput),this.lastCalculation=new n(this.lastCalculation,t)):this.lastCalculation=new n(Number(this.currentInput),t),this.currentInput="",this.waitingForInput=!0,this.lastCalculation.getResult().toString())}},{key:"equals",value:function(){if(this.lastCalculation.operand2){var t=new n(this.lastCalculation,this.lastCalculation.operator);t.operand2=this.lastCalculation.operand2,this.lastCalculation=t}else this.lastCalculation.operand2=Number(this.currentInput),this.currentInput="";return this.lastCalculation.getResult().toString()}},{key:"input",value:function(t){return this.waitingForInput&&(this.waitingForInput=!1),"0"!==t||"0"!==this.currentInput&&"-0"!==this.currentInput?((!isNaN(Number(t))||"-"===t||"."===t&&!this.currentInput.includes("."))&&this.currentInput.length<=10&&(this.currentInput=this.currentInput+t),this.currentInput):this.currentInput}},{key:"clear",value:function(){return this.currentInput="",this.currentInput}},{key:"clearEverything",value:function(){return this.lastCalculation=void 0,this.currentInput="",this.currentInput}},{key:"removeLast",value:function(){return this.currentInput.length>0?(this.currentInput=this.currentInput.slice(0,-1),this.currentInput):this.lastCalculation.getResult().toString()}}])&&r(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c,s=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"calculator",void 0),o(this,"screen",void 0),o(this,"clearButton",void 0),this.calculator=new i,this.screen=document.createElement("input"),this.screen.type="text",this.screen.classList.add("calculator-screen"),this.screen.classList.add("z-depth-1"),this.screen.value="",this.screen.disabled=!0,this.clearButton=this.createButton("clear","CE",["btn-danger","disabled"],(function(){return e.clearClicked()})),this.createCalculatorUI()}var e,n;return e=t,(n=[{key:"createCalculatorUI",value:function(){var t=document.createElement("div");t.classList.add("calculator");var e=document.createElement("button");e.classList.add("btn"),e.classList.add("btn-danger"),e.classList.add("remove-calculator-button"),e.innerText="-",e.onclick=function(){return t.remove()},t.append(e),t.append(this.screen),t.append(this.createButtons()),document.body.append(t)}},{key:"createButtons",value:function(){var t=this,e=document.createElement("div");e.classList.add("calculator-keys"),e.append(this.createButton("+","+",["btn-info","operator"],(function(){return t.operatorClicked("+")}))),e.append(this.createButton("-","-",["btn-info","operator"],(function(){return t.operatorClicked("-")}))),e.append(this.createButton("*","&times;",["btn-info","operator"],(function(){return t.operatorClicked("*")}))),e.append(this.createButton("/","&divide;",["btn-info","operator"],(function(){return t.operatorClicked("/")})));for(var n=function(){var n=a[r];e.append(t.createButton(n,n,["btn-light"],(function(){return t.inputClicked(n)})))},r=0,a=["7","8","9","4","5","6","1","2","3","0"];r<a.length;r++)n();return e.append(this.createButton(".",".",["btn-secondary"],(function(){return t.inputClicked(".")}))),e.append(this.clearButton),e.append(this.createButton("=","=",["equal-sign","btn-secondary"],(function(){return t.equalsClicked()}))),e}},{key:"createButton",value:function(t,e,n,r){var a=document.createElement("button");return a.value=t,a.innerHTML=e,a.classList.add("btn"),n.forEach((function(t){a.classList.add(t)})),a.addEventListener("click",(function(){r()})),a}},{key:"operatorClicked",value:function(t){this.setScreen(this.calculator.operator(t))}},{key:"clearClicked",value:function(){"C"===this.clearButton.textContent?(this.screen.value=this.calculator.clear(),this.clearButton.textContent="CE"):(this.screen.value=this.calculator.clearEverything(),this.clearButton.classList.add("disabled"))}},{key:"equalsClicked",value:function(){this.setScreen(this.calculator.equals())}},{key:"inputClicked",value:function(t){this.screen.value=this.calculator.input(t),this.screen.value&&(this.clearButton.textContent="C",this.clearButton.classList.remove("disabled"))}},{key:"setScreen",value:function(t){this.screen.value=t.toString().length>11?Number(t).toExponential(6):t}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(c=document.createElement("button")).classList.add("btn"),c.classList.add("btn-info"),c.classList.add("new-calculator-button"),c.innerText="+",c.onclick=function(){return new s},document.body.append(c),new s})();